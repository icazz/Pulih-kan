import{p as k,a as s,b as g,d as e,u as x,h as m,w as h,f as u,l as w,t as n,e as y,F as b,i as j,q as p,k as M,o as i}from"./app-CqGoo8t5.js";import{L as l,i as A,a as C}from"./marker-shadow-B0ynlELw.js";const B={class:"h-screen w-full flex flex-col md:flex-row overflow-hidden bg-white"},S={class:"w-full md:w-1/2 h-1/2 md:h-full relative bg-gray-100 order-2 md:order-1"},V={class:"w-full md:w-1/2 h-1/2 md:h-full flex flex-col bg-white border-l border-gray-200 order-1 md:order-2 shadow-2xl z-10"},N={class:"bg-[#4F3726] p-8 text-white flex-shrink-0"},D={class:"text-white/70 mt-1"},z={class:"flex-1 overflow-y-auto p-8 space-y-8"},L={class:"grid grid-cols-2 gap-6"},K={class:"font-bold text-gray-800 text-xl"},T={class:"font-bold text-gray-800"},$={class:"text-xs text-gray-500"},E={class:"col-span-2"},F={class:"bg-gray-50 p-4 rounded-xl border border-gray-100"},O={class:"text-gray-800 text-sm leading-relaxed mb-2"},U={class:"inline-block bg-white border border-gray-200 px-2 py-1 rounded text-xs font-bold text-gray-500"},I={class:"col-span-2"},P={class:"flex flex-wrap gap-2"},J={key:0,class:"mt-3 text-sm text-gray-600 italic border-l-4 border-orange-200 pl-3"},G={class:"pt-6 border-t border-gray-100"},H={key:0,class:"flex gap-4"},q={key:1,class:"bg-green-50 p-6 rounded-xl border border-green-200"},Y={class:"flex flex-col md:flex-row items-center justify-between gap-4"},Q={key:2,class:"bg-red-50 p-6 rounded-xl border border-red-200"},R={class:"flex flex-col md:flex-row items-center justify-between gap-4"},Z={__name:"VendorDetail",props:{vendor:Object,auth:Object},setup(o){let f=l.icon({iconUrl:C,shadowUrl:A,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});l.Marker.prototype.options.icon=f;const d=o;k(()=>{const a=parseFloat(d.vendor.latitude)||-6.175392,t=parseFloat(d.vendor.longitude)||106.827153,r=l.map("detailVendorMap").setView([a,t],15);l.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(r),l.marker([a,t]).addTo(r).bindPopup(d.vendor.nama_mitra).openPopup()});const c=a=>{if(!confirm(`Konfirmasi: Apakah Anda yakin ingin ${a==="approve"?"MENYETUJUI":"MENOLAK"} mitra ini?`))return;const r=`/admin/vendors/${d.vendor.id}/verify`;M.patch(r,{status:a},{onSuccess:()=>{alert("Status berhasil diperbarui!"),window.location.reload()},onError:v=>alert("Gagal update: "+JSON.stringify(v))})};return(a,t)=>(i(),s(b,null,[g(x(m),{title:`Detail Mitra: ${o.vendor.nama_mitra}`},null,8,["title"]),e("div",B,[e("div",S,[t[5]||(t[5]=e("div",{id:"detailVendorMap",class:"w-full h-full z-0"},null,-1)),g(x(w),{href:a.route("admin.dashboard"),class:"absolute top-6 left-6 z-[400] bg-white text-gray-800 px-4 py-2 rounded-full shadow-lg font-bold flex items-center gap-2 hover:bg-gray-50 transition"},{default:h(()=>[...t[4]||(t[4]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),u(" Kembali ke Dashboard ",-1)])]),_:1},8,["href"])]),e("div",V,[e("div",N,[t[6]||(t[6]=e("h1",{class:"text-2xl font-bold"},"Verifikasi Kemitraan",-1)),e("p",D,"ID Mitra: "+n(o.vendor.id)+" â€¢ Status: "+n(o.vendor.status?o.vendor.status.toUpperCase():"PENDING"),1)]),e("div",z,[e("div",L,[e("div",null,[t[7]||(t[7]=e("label",{class:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1"},"Nama Mitra",-1)),e("p",K,n(o.vendor.nama_mitra),1)]),e("div",null,[t[8]||(t[8]=e("label",{class:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1"},"Kontak",-1)),e("p",T,n(o.vendor.no_telepon),1),e("p",$,n(o.vendor.email),1)]),e("div",E,[t[9]||(t[9]=e("label",{class:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1"},"Alamat Lengkap",-1)),e("div",F,[e("p",O,n(o.vendor.alamat),1),e("span",U,n(o.vendor.kota)+", "+n(o.vendor.provinsi),1)])]),e("div",I,[t[10]||(t[10]=e("label",{class:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-2"},"Layanan Jasa",-1)),e("div",P,[(i(!0),s(b,null,j(o.vendor.jenis_jasa,r=>(i(),s("span",{key:r,class:"bg-orange-50 text-[#BB4D00] border border-orange-100 px-3 py-1 rounded-full text-sm font-bold"},n(r),1))),128))]),o.vendor.jasa_lainnya?(i(),s("p",J,' "'+n(o.vendor.jasa_lainnya)+'" ',1)):y("",!0)])]),e("div",G,[t[16]||(t[16]=e("label",{class:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-4"},"Tindakan Admin",-1)),o.vendor.status==="pending"||!o.vendor.status&&!o.vendor.is_verified?(i(),s("div",H,[e("button",{onClick:t[0]||(t[0]=r=>c("reject")),class:"px-6 py-4 rounded-xl font-bold text-red-600 bg-white border border-red-200 hover:bg-red-50 transition w-1/3"}," Tolak "),e("button",{onClick:t[1]||(t[1]=r=>c("approve")),class:"flex-1 py-4 rounded-xl font-bold text-white bg-green-600 hover:bg-green-700 transition shadow-lg shadow-green-200 flex items-center justify-center gap-2"},[...t[11]||(t[11]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),u(" Setujui & Aktifkan Akun ",-1)])])])):o.vendor.status==="verified"||o.vendor.is_verified?(i(),s("div",q,[e("div",Y,[t[13]||(t[13]=p('<div class="flex items-center gap-3"><div class="w-12 h-12 rounded-full bg-green-100 flex items-center justify-center text-green-600 shrink-0"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div><h4 class="font-bold text-green-800 text-lg">Mitra Terverifikasi</h4><p class="text-xs text-green-600 leading-relaxed">Akun ini sedang aktif. Anda dapat membatalkan verifikasi jika mitra melanggar ketentuan.</p></div></div>',1)),e("button",{onClick:t[2]||(t[2]=r=>c("reject")),class:"px-5 py-3 bg-white border border-red-200 text-red-600 rounded-lg text-sm font-bold hover:bg-red-50 transition shadow-sm hover:shadow flex items-center gap-2 whitespace-nowrap"},[...t[12]||(t[12]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})],-1),u(" Batalkan Verifikasi ",-1)])])])])):(i(),s("div",Q,[e("div",R,[t[15]||(t[15]=p('<div class="flex items-center gap-3"><div class="w-12 h-12 rounded-full bg-red-100 flex items-center justify-center text-red-600 shrink-0"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div><h4 class="font-bold text-red-800 text-lg">Mitra Dinonaktifkan / Ditolak</h4><p class="text-xs text-red-600 leading-relaxed">Akun ini tidak dapat menerima pesanan. Klik tombol di kanan untuk mengaktifkan kembali.</p></div></div>',1)),e("button",{onClick:t[3]||(t[3]=r=>c("approve")),class:"px-5 py-3 bg-white border border-green-200 text-green-600 rounded-lg text-sm font-bold hover:bg-green-50 transition shadow-sm hover:shadow flex items-center gap-2 whitespace-nowrap"},[...t[14]||(t[14]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),u(" Pulihkan / Setujui Kembali ",-1)])])])]))])])])])],64))}};export{Z as default};
