import{r as y,c as w,m as B,a as d,b as m,d as e,u as l,h as N,w as P,f as F,l as D,F as v,i as C,t as a,e as j,o as c,n as M}from"./app-56kQ6enK.js";import{_ as I}from"./Navbar-D_zPVg7M.js";const A={class:"min-h-screen bg-[#F9F9F9] font-['Montserrat'] pb-20"},T={class:"w-full bg-[#BB4D00] pt-32 pb-12 px-6"},O={class:"max-w-6xl mx-auto text-white"},E={class:"max-w-6xl mx-auto px-6 mt-8"},H={class:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start"},K={class:"lg:col-span-2 space-y-6"},L={class:"bg-white p-8 rounded-2xl shadow-sm border border-gray-100"},R={class:"grid grid-cols-3 gap-4 mb-8"},V=["onClick"],G={class:"font-bold text-gray-500 text-xs"},J={class:"text-[9px] uppercase font-bold text-gray-400"},S={class:"bg-[#FDFCFB] border border-orange-100 rounded-2xl p-6"},U={class:"flex items-center gap-2 text-[#BB4D00] font-bold text-sm mb-4"},$={class:"space-y-4"},W={class:"text-xs text-gray-400 uppercase font-bold"},z={class:"flex items-center justify-between mt-1"},Q={class:"text-xl font-bold tracking-wider"},Y={class:"font-bold"},q={class:"p-4 bg-[#FFF3C4]/30 rounded-xl"},X={class:"flex items-center justify-between"},Z={class:"text-2xl font-black text-[#BB4D00]"},ee={class:"space-y-4"},te={class:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100"},se={class:"space-y-4 text-sm"},ae={class:"font-bold text-gray-800 uppercase"},oe={class:"font-bold text-gray-800"},ne={class:"pt-4 border-t border-gray-50 flex justify-between items-center"},re={class:"text-xl font-black text-[#BB4D00]"},le={class:"space-y-3"},ie={class:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100 text-center"},de={class:"relative w-full border-2 border-dashed border-gray-300 rounded-xl hover:bg-gray-50 transition cursor-pointer group h-40 flex flex-col items-center justify-center overflow-hidden"},ce={key:0,class:"absolute inset-0 p-2 bg-white"},ue=["src"],pe={key:1,class:"flex flex-col items-center text-gray-400 group-hover:text-gray-600"},me={key:0,class:"text-red-500 text-[10px] mt-2 font-bold"},be=["disabled"],fe={__name:"Payment",props:{report:Object,auth:Object},setup(r){const h=r,u=y("Mandiri"),b=[{name:"BCA",icon:"/images/bca.png",type:"Bank",accountNumber:"8830123456",accountName:"PT Pulihkan Indonesia Jaya"},{name:"Mandiri",icon:"/images/mandiri.png",type:"Bank",accountNumber:"1370012345678",accountName:"PT Pulihkan Indonesia Jaya"},{name:"BNI",icon:"/images/bni.png",type:"Bank",accountNumber:"0123456789",accountName:"PT Pulihkan Indonesia Jaya"},{name:"GoPay",icon:"/images/gopay.png",type:"E-Wallet",accountNumber:"081234567890",accountName:"PULIHKAN - GO PAY"},{name:"OVO",icon:"/images/ovo.png",type:"E-Wallet",accountNumber:"081234567890",accountName:"PULIHKAN - OVO"},{name:"DANA",icon:"/images/dana.png",type:"E-Wallet",accountNumber:"081234567890",accountName:"PULIHKAN - DANA"}],i=w(()=>b.find(s=>s.name===u.value)),n=B({payment_type:u.value,proof:null}),p=y(null),k=s=>{const t=s.target.files[0];if(t){n.proof=t;const o=new FileReader;o.onload=f=>{p.value=f.target.result},o.readAsDataURL(t)}},_=()=>{if(!n.proof)return alert("Harap upload bukti transfer terlebih dahulu.");n.post(route("reports.storePayment",h.report.id),{forceFormData:!0,onSuccess:()=>alert("Bukti pembayaran berhasil dikirim!"),onError:s=>{console.error(s),alert("Gagal mengirim: "+(s.proof||s.error||"Terjadi kesalahan server"))}})},g=s=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s),x=s=>{navigator.clipboard.writeText(s),alert("Berhasil disalin: "+s)};return(s,t)=>(c(),d(v,null,[m(l(N),{title:"Pembayaran"}),m(I),e("div",A,[e("div",T,[e("div",O,[m(l(D),{href:s.route("reports.show",r.report.id),class:"flex items-center gap-2 text-sm mb-4 opacity-80 hover:opacity-100"},{default:P(()=>[...t[2]||(t[2]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M15 19l-7-7 7-7","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),F(" Kembali ",-1)])]),_:1},8,["href"]),t[3]||(t[3]=e("h1",{class:"text-4xl font-bold"},"Pembayaran",-1)),t[4]||(t[4]=e("p",{class:"opacity-80"},"Selesaikan pembayaran untuk melanjutkan pengajuan",-1))])]),e("div",E,[e("div",H,[e("div",K,[e("div",L,[t[7]||(t[7]=e("h3",{class:"font-bold text-lg mb-6"},"Pilih Metode Pembayaran",-1)),e("div",R,[(c(),d(v,null,C(b,o=>e("button",{key:o.name,onClick:f=>{u.value=o.name,l(n).payment_type=o.name},class:M([u.value===o.name?"border-[#BB4D00] bg-orange-50 ring-1 ring-[#BB4D00]":"border-gray-200","p-4 border rounded-xl flex flex-col items-center justify-center gap-2 hover:bg-gray-50 transition"])},[e("span",G,a(o.name),1),e("span",J,a(o.type),1)],10,V)),64))]),e("div",S,[e("div",U," Detail Pembayaran - "+a(i.value.name),1),e("div",$,[e("div",null,[e("p",W,"Nomor "+a(i.value.type==="Bank"?"Rekening":"HP"),1),e("div",z,[e("span",Q,a(i.value.accountNumber),1),e("button",{onClick:t[0]||(t[0]=o=>x(i.value.accountNumber)),class:"text-[#F54900] text-xs font-bold px-3 py-1 bg-orange-50 rounded-lg"},"Salin")])]),e("div",null,[t[5]||(t[5]=e("p",{class:"text-xs text-gray-400 uppercase font-bold"},"Nama Penerima",-1)),e("p",Y,a(i.value.accountName),1)]),e("div",q,[t[6]||(t[6]=e("p",{class:"text-xs text-gray-500 font-bold uppercase"},"Total yang Harus Dibayar",-1)),e("div",X,[e("p",Z,a(g(r.report.final_price)),1),e("button",{onClick:t[1]||(t[1]=o=>x(r.report.final_price)),class:"text-[#F54900] text-xs font-bold"},"Salin")])])])])])]),e("div",ee,[e("div",te,[t[11]||(t[11]=e("h3",{class:"font-bold text-lg mb-6"},"Ringkasan Pengajuan",-1)),e("div",se,[e("div",null,[t[8]||(t[8]=e("p",{class:"text-[10px] text-gray-400 uppercase font-bold"},"Nomor Pengajuan",-1)),e("p",ae,"REQ-"+a(r.report.id),1)]),e("div",null,[t[9]||(t[9]=e("p",{class:"text-[10px] text-gray-400 uppercase font-bold"},"Jenis Pemulihan",-1)),e("p",oe,a(r.report.title),1)]),e("div",ne,[t[10]||(t[10]=e("span",{class:"font-bold text-gray-800"},"Total",-1)),e("span",re,a(g(r.report.final_price)),1)])])]),e("div",le,[e("div",ie,[t[13]||(t[13]=e("h3",{class:"font-bold text-xs mb-1"},"Upload Bukti Transfer",-1)),t[14]||(t[14]=e("p",{class:"text-[9px] text-gray-400 mb-4 italic"},"Format: JPG, PNG, PDF (Maks. 5MB)",-1)),e("div",de,[e("input",{type:"file",onChange:k,accept:"image/*,application/pdf",class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"},null,32),p.value?(c(),d("div",ce,[e("img",{src:p.value,class:"w-full h-full object-contain rounded-lg",alt:"Preview Bukti"},null,8,ue)])):(c(),d("div",pe,[...t[12]||(t[12]=[e("svg",{class:"w-8 h-8 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})],-1),e("span",{class:"text-[10px] font-bold"},"Klik atau geser foto ke sini",-1)])]))]),l(n).errors.proof?(c(),d("p",me,a(l(n).errors.proof),1)):j("",!0)]),e("button",{onClick:_,disabled:l(n).processing,class:"w-full py-3 bg-[#BB4D00] text-white font-bold rounded-xl shadow-md transition uppercase text-[10px] tracking-widest hover:bg-[#a04100] disabled:opacity-50"},a(l(n).processing?"Mengirim...":"Kirim Bukti Pembayaran"),9,be)])])])])])],64))}};export{fe as default};
