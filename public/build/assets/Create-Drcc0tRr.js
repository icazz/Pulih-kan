import{g as w,f as _,i as T,c as g,a as y,b as e,u as s,h as V,p as F,n as i,k as r,A as f,v as C,q as h,e as m,F as B,r as E,d as j,t as p,o as c}from"./app-BEn3o_SZ.js";import{_ as z}from"./Navbar-D0OF_V_V.js";import{L as b}from"./leaflet-src-gLSDEZXR.js";import{i as U,a as N}from"./marker-shadow-CG7pbA2w.js";const J={class:"min-h-screen bg-[#FFFFFA] font-['Montserrat'] pb-20"},H={class:"max-w-5xl mx-auto mt-12 mb-16 px-6"},G={class:"flex items-center justify-between relative w-full max-w-3xl mx-auto"},I={class:"relative z-10 bg-[#FFFFFA] px-3"},$={class:"relative z-10 bg-[#FFFFFA] px-3"},q={class:"relative z-10 bg-[#FFFFFA] px-3"},O={class:"max-w-5xl mx-auto px-6"},Q={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"},W={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8"},X=["onClick"],Y={class:"w-5 h-5 rounded border border-[#973C00] flex items-center justify-center bg-white"},Z={key:0,class:"w-3 h-3 bg-[#973C00] rounded-sm"},ee={class:"text-[#4F3726] font-medium select-none"},te={class:"mb-8"},ae={class:"w-full h-32 border-2 border-dashed border-[#973C00] rounded-xl bg-[#FFFFFA] flex flex-col items-center justify-center cursor-pointer hover:bg-orange-50 transition relative"},oe={class:"text-[#973C00] font-bold text-lg mb-1"},se={key:0,class:"text-gray-400 text-sm"},le={class:"mb-10"},ne={class:"bg-white border border-gray-300 rounded-2xl p-6 md:p-8 mb-6 shadow-sm"},re={class:"inline-flex items-center gap-2 bg-[#FFE4E4] border border-[#FFCFCF] rounded-full px-6 py-2"},ie={class:"text-[#D32F2F] font-bold text-lg"},de={class:"bg-white border border-yellow-400 rounded-2xl p-6 md:p-8 mb-6 shadow-sm bg-yellow-50/10"},ue={class:"text-gray-700 text-lg leading-relaxed"},me={class:"bg-white border border-gray-300 rounded-2xl p-6 md:p-8 mb-6 shadow-sm"},pe={class:"text-4xl md:text-5xl font-bold text-[#BB4D00] mb-2"},ve={__name:"Create",setup(be){let D=b.icon({iconUrl:N,shadowUrl:U,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});b.Marker.prototype.options.icon=D;const l=w(1),d=w({kategori:"Ringan",biaya:"Rp 0",layanan:"Pembersihan Standar"}),a=_({provinsi:"",kota:"",alamat:"",luas_rumah:"",latitude:"",longitude:"",kerusakan:[],foto:null,deskripsi:""}),A=["Saluran Air Rusak","Pembersihan Lumpur dan Puing","Instalasi Listrik Rusak","Atap Bocor / Rusak","Struktur Bangunan Rusak","Muncul Jamur dan Lembab"],M=n=>{a.kerusakan.includes(n)?a.kerusakan=a.kerusakan.filter(t=>t!==n):a.kerusakan.push(n)},P=n=>{a.foto=n.target.files[0]},R=()=>{const n=a.kerusakan.length;n<=2?d.value={kategori:"Kerusakan Ringan",biaya:"Rp 2.000.000 - Rp 5.000.000",layanan:"Pembersihan Dasar & Perbaikan Minor"}:n<=4?d.value={kategori:"Kerusakan Sedang",biaya:"Rp 5.000.000 - Rp 15.000.000",layanan:"Perbaikan Utilitas, Atap & Pembersihan Total"}:d.value={kategori:"Kerusakan Berat",biaya:"Rp 15.000.000 - Rp 30.000.000",layanan:"Renovasi Struktur, Kelistrikan & Sanitasi Total"}},v=()=>{if(l.value===1){if(!a.alamat||!a.provinsi||!a.kota||!a.luas_rumah||!a.latitude){alert("Mohon lengkapi data rumah dan lokasi.");return}}else if(l.value===2){if(a.kerusakan.length===0||!a.deskripsi){alert("Mohon lengkapi data kerusakan.");return}R()}l.value++,window.scrollTo({top:0,behavior:"smooth"})},k=()=>{l.value>1&&(l.value--,window.scrollTo({top:0,behavior:"smooth"}))},S=()=>{alert("Laporan berhasil diajukan!"),console.log(a.data())};T(()=>{l.value===1&&setTimeout(K,100)});let u,x;const K=()=>{if(u)return;u=b.map("mapContainer").setView([-6.2,106.816666],13),b.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap"}).addTo(u);const n=(t,o)=>{x?x.setLatLng([t,o]):x=b.marker([t,o]).addTo(u),u.setView([t,o],16),a.latitude=t,a.longitude=o};navigator.geolocation&&navigator.geolocation.getCurrentPosition(t=>{n(t.coords.latitude,t.coords.longitude)}),u.on("click",t=>n(t.latlng.lat,t.latlng.lng))};return(n,t)=>(c(),g(B,null,[y(s(V),{title:"Pengajuan Pemulihan Rumah"}),y(z),e("div",J,[t[24]||(t[24]=F('<div class="w-full bg-gradient-to-r from-[#28160A] via-[#000000] to-[#2D190D] pt-32 pb-16 shadow-lg"><div class="max-w-5xl mx-auto px-6"><h1 class="text-3xl md:text-5xl font-bold text-[#FFEBDE] mb-3 leading-tight"> Pengajuan <br class="md:hidden"> Pemulihan Rumah </h1><p class="text-white text-base md:text-lg opacity-90 font-light"> Lengkapi data untuk mendapatkan bantuan pemulihan </p></div></div>',1)),e("div",H,[e("div",G,[t[5]||(t[5]=e("div",{class:"absolute top-1/2 left-0 w-full h-[4px] bg-[#D6C5BA] z-0 transform -translate-y-1/2 rounded-full"},null,-1)),e("div",I,[e("div",{class:i(["w-16 h-16 rounded-full flex items-center justify-center border-[3px] transition-all duration-300 shadow-sm",l.value===1?"bg-[#973C00] border-[#973C00]":"bg-[#D6C5BA] border-[#D6C5BA]"])},[e("img",{src:"/images/step-1-home.png",class:i(["w-8 h-8 object-contain brightness-0 invert",l.value===1?"opacity-100":"opacity-60"])},null,2)],2)]),e("div",$,[e("div",{class:i(["w-16 h-16 rounded-full flex items-center justify-center border-[3px] transition-all duration-300 shadow-sm",l.value===2?"bg-[#973C00] border-[#973C00]":"bg-[#D6C5BA] border-[#D6C5BA]"])},[e("img",{src:"/images/step-2-alert.png",class:i(["w-8 h-8 object-contain brightness-0 invert",l.value===2?"opacity-100":"opacity-60"])},null,2)],2)]),e("div",q,[e("div",{class:i(["w-16 h-16 rounded-full flex items-center justify-center border-[3px] transition-all duration-300 shadow-sm",l.value===3?"bg-[#973C00] border-[#973C00]":"bg-[#D6C5BA] border-[#D6C5BA]"])},[e("img",{src:"/images/step-3-file.png",class:i(["w-8 h-8 object-contain brightness-0 invert",l.value===3?"opacity-100":"opacity-60"])},null,2)],2)])])]),e("div",O,[r(e("div",null,[t[9]||(t[9]=e("h2",{class:"text-2xl font-bold text-black mb-6"},"Data Rumah",-1)),e("div",Q,[e("div",null,[r(e("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>s(a).provinsi=o),class:"w-full bg-white border border-gray-300 rounded-xl px-4 py-3 text-gray-700 focus:ring-2 focus:ring-[#973C00] shadow-sm cursor-pointer"},[...t[6]||(t[6]=[e("option",{value:"",disabled:"",selected:""},"Provinsi",-1),e("option",{value:"jawa_timur"},"Jawa Timur",-1),e("option",{value:"jawa_tengah"},"Jawa Tengah",-1)])],512),[[C,s(a).provinsi]])]),e("div",null,[r(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>s(a).kota=o),class:"w-full bg-white border border-gray-300 rounded-xl px-4 py-3 text-gray-700 focus:ring-2 focus:ring-[#973C00] shadow-sm cursor-pointer"},[...t[7]||(t[7]=[e("option",{value:"",disabled:"",selected:""},"Kecamatan / Kota",-1),e("option",{value:"lamongan"},"Lamongan",-1),e("option",{value:"surabaya"},"Surabaya",-1)])],512),[[C,s(a).kota]])]),e("div",null,[r(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>s(a).alamat=o),placeholder:"Alamat Lengkap",class:"w-full bg-white border border-gray-300 rounded-xl px-4 py-3 text-gray-700 focus:ring-2 focus:ring-[#973C00] shadow-sm"},null,512),[[h,s(a).alamat]])]),e("div",null,[r(e("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=o=>s(a).luas_rumah=o),placeholder:"Luas Rumah (mÂ²)",class:"w-full bg-white border border-gray-300 rounded-xl px-4 py-3 text-gray-700 focus:ring-2 focus:ring-[#973C00] shadow-sm"},null,512),[[h,s(a).luas_rumah]])])]),t[10]||(t[10]=F('<div class="mb-8"><h3 class="text-[#4F3726] font-bold mb-3 flex items-center gap-2"><svg class="w-5 h-5 text-[#973C00]" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path></svg> Pilih Titik di Peta </h3><div id="mapContainer" class="w-full h-64 md:h-80 rounded-2xl overflow-hidden border border-gray-300 shadow-md relative z-0"></div></div>',1)),e("div",{class:"flex justify-end mt-12"},[e("button",{onClick:v,class:"px-8 py-3 rounded-full text-white font-bold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all flex items-center gap-2 bg-gradient-to-r from-[#552300] to-[#BB4D00]"},[...t[8]||(t[8]=[m(" Lanjutkan ",-1),e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})],-1)])])])],512),[[f,l.value===1]]),r(e("div",null,[t[15]||(t[15]=e("h2",{class:"text-2xl font-bold text-black mb-6"},"Kondisi Kerusakan",-1)),e("div",W,[(c(),g(B,null,E(A,(o,L)=>e("div",{key:L,onClick:ge=>M(o),class:i(["cursor-pointer rounded-xl p-4 flex items-center gap-3 border transition-all duration-200",s(a).kerusakan.includes(o)?"bg-[#FFFBEE] border-[#973C00] shadow-md":"bg-[#FFFBEE] border-[#973C00] hover:shadow-sm"])},[e("div",Y,[s(a).kerusakan.includes(o)?(c(),g("div",Z)):j("",!0)]),e("span",ee,p(o),1)],10,X)),64))]),e("div",te,[t[11]||(t[11]=e("label",{class:"block text-[#716363] text-lg mb-2 font-medium"},"Unggah Foto / Video Kondisi",-1)),e("div",ae,[e("input",{type:"file",onChange:P,class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:"image/*,video/*"},null,32),e("span",oe,p(s(a).foto?"File Terpilih: "+s(a).foto.name:"Klik untuk unggah"),1),s(a).foto?j("",!0):(c(),g("span",se,"Format: JPG, PNG, MP4"))])]),e("div",le,[t[12]||(t[12]=e("label",{class:"block text-[#716363] text-lg mb-2 font-medium"},"Deskripsikan Kerusakan secara Detail",-1)),r(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=o=>s(a).deskripsi=o),rows:"5",class:"w-full bg-white border border-[#973C00] rounded-xl p-4 text-[#4F3726] focus:ring-2 focus:ring-[#973C00] shadow-sm",placeholder:"Contoh: Tembok retak..."},null,512),[[h,s(a).deskripsi]])]),e("div",{class:"flex justify-between items-center mt-12"},[e("button",{onClick:k,class:"flex items-center gap-2 text-[#696565] font-semibold hover:text-[#4F3726] transition"},[...t[13]||(t[13]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),m(" Kembali ",-1)])]),e("button",{onClick:v,class:"px-8 py-3 rounded-full text-white font-bold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all flex items-center gap-2 bg-gradient-to-r from-[#552300] to-[#BB4D00]"},[...t[14]||(t[14]=[m(" Verifikasi ",-1),e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})],-1)])])])],512),[[f,l.value===2]]),r(e("div",null,[e("div",ne,[t[17]||(t[17]=e("h2",{class:"text-xl font-bold text-[#1C1917] mb-4"},"Kategori Kerusakan",-1)),e("div",re,[t[16]||(t[16]=e("div",{class:"w-5 h-5 rounded-full border-2 border-[#D32F2F] flex items-center justify-center"},[e("div",{class:"w-3 h-0.5 bg-[#D32F2F]"})],-1)),e("span",ie,p(d.value.kategori),1)])]),e("div",de,[t[18]||(t[18]=e("h2",{class:"text-xl font-bold text-[#1C1917] mb-4"},"Rekomendasi Layanan",-1)),e("p",ue,p(d.value.layanan),1)]),e("div",me,[t[19]||(t[19]=e("h2",{class:"text-xl font-bold text-[#1C1917] mb-2"},"Estimasi Biaya Awal",-1)),e("p",pe,p(d.value.biaya),1),t[20]||(t[20]=e("p",{class:"text-gray-400 text-sm"},"*Estimasi berdasarkan assessment awal.",-1))]),t[23]||(t[23]=e("div",{class:"bg-white border border-yellow-400 rounded-2xl p-6 md:p-8 mb-10 shadow-sm bg-yellow-50/10"},[e("h2",{class:"text-xl font-bold text-[#1C1917] mb-3"},"Langkah Selanjutnya"),e("p",{class:"text-gray-600 leading-relaxed"},"Kami akan menghubungkan Anda dengan vendor terpercaya.")],-1)),e("div",{class:"flex justify-between items-center mt-8"},[e("button",{onClick:k,class:"flex items-center gap-2 text-[#696565] font-semibold hover:text-[#4F3726] transition"},[...t[21]||(t[21]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),m(" Kembali ",-1)])]),e("button",{onClick:S,class:"px-8 py-3 rounded-full text-white font-bold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all flex items-center gap-2 bg-gradient-to-r from-[#552300] to-[#BB4D00]"},[...t[22]||(t[22]=[m(" Ajukan Pemulihan ",-1),e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})],-1)])])])],512),[[f,l.value===3]])])])],64))}};export{ve as default};
