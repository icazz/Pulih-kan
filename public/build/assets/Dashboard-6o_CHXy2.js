import{r as C,c as j,a,b as i,d as e,u as d,h as F,w as g,l as f,t as r,F as c,i as b,e as M,o as n,n as v,f as w,I as P}from"./app-56kQ6enK.js";import{_ as S}from"./Navbar-D_zPVg7M.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"min-h-screen bg-[#FFFDF4] font-['Montserrat'] pb-20"},H={class:"w-full bg-gradient-to-r from-[#8FC555] to-[#4B692D] pt-32 pb-16 px-6"},z={class:"max-w-6xl mx-auto"},A={class:"text-white text-3xl md:text-5xl font-bold mb-2"},E={class:"max-w-6xl mx-auto px-6 mt-8"},N={class:"bg-white p-2 rounded-2xl shadow-md border border-gray-100 flex overflow-x-auto gap-2 no-scrollbar"},R=["onClick"],$={class:"mt-10 space-y-6"},I={key:0,class:"text-center py-20 bg-white rounded-3xl border border-dashed border-gray-300"},G={class:"flex flex-col md:flex-row p-4 md:p-6 gap-6 relative"},O={class:"w-full md:w-64 h-48 bg-gray-100 rounded-2xl overflow-hidden shrink-0 flex flex-col items-center justify-center border-2 border-dashed border-gray-200 relative"},T=["onClick"],U={class:"flex-1 flex flex-col justify-between py-1"},K={class:"flex items-center gap-2 text-[#BB4D00] mb-2"},Q={class:"text-xs font-bold font-mono uppercase"},W={class:"text-xl font-bold text-gray-900 mb-2"},q={class:"space-y-1"},J={class:"text-sm text-gray-500 flex items-center gap-2"},X={class:"text-sm text-gray-500 flex items-center gap-2"},Y={class:"mt-6"},Z={class:"flex justify-between text-xs mb-1.5"},ee={class:"font-bold text-[#BB4D00]"},te={class:"w-full bg-gray-100 h-2 rounded-full overflow-hidden"},se={class:"flex flex-col justify-between items-end shrink-0 md:min-w-[220px] border-t md:border-t-0 md:border-l border-gray-100 pt-4 md:pt-0 md:pl-8"},oe={class:"mb-auto"},re={class:"text-right"},ae={class:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1"},ne={class:"text-xl font-black text-[#4F3726]"},le={__name:"Dashboard",props:{reports:Array,vendor:Object,auth:Object},setup(u){const m=u,_=t=>t?"Rp "+parseFloat(t).toLocaleString("id-ID",{minimumFractionDigits:0}):"Rp 0",l=C("Semua"),k=["Semua","pending","process","completed","cancelled"],h=t=>t==="pending"?"Menunggu Pembayaran":t==="process"?"Dalam Pengerjaan":t==="completed"?"Selesai":t==="cancelled"?"Dibatalkan":t,p=t=>{const s=t.status,o=t.progress||0;switch(s){case"verification":return 25;case"pending":return 50;case"payment_verification":return 60;case"process":return o>0?o:80;case"completed":return 100;case"cancelled":return 0;default:return 0}},x=j(()=>l.value==="Semua"?m.reports:m.reports.filter(t=>t.status===l.value)),y=t=>({pending:"bg-[#CA8E31]",process:"bg-[#4688FB]",completed:"bg-[#09A600]",cancelled:"bg-red-500"})[t]||"bg-gray-500",B=t=>{if(!t)return alert("Link Google Drive tidak tersedia.");const s=t.startsWith("http")?t:`https://${t}`;window.open(s,"_blank")};return(t,s)=>(n(),a(c,null,[i(d(F),{title:"Dashboard Mitra"}),i(S),e("div",L,[e("div",H,[e("div",z,[i(d(f),{href:t.route("welcome"),class:"inline-flex items-center text-white/90 hover:text-white mb-6 transition gap-2 group"},{default:g(()=>[...s[0]||(s[0]=[e("svg",{class:"w-6 h-6 transform group-hover:-translate-x-1 transition",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),e("span",{class:"font-medium text-lg"},"Kembali ke Halaman Utama",-1)])]),_:1},8,["href"]),e("h1",A,"Halo, "+r(u.vendor.nama_mitra)+"!",1),s[1]||(s[1]=e("p",{class:"text-white/80"},"Pantau dan kelola pengerjaan proyek pemulihan rumah di sini.",-1))])]),e("div",E,[e("div",N,[(n(),a(c,null,b(k,o=>e("button",{key:o,onClick:D=>l.value=o,class:v(["px-6 py-2.5 rounded-xl font-bold text-sm transition-all shrink-0",l.value===o?"bg-[#BB4D00] text-white shadow-lg shadow-orange-100":"text-gray-500 hover:bg-gray-50"])},r(h(o)),11,R)),64))]),e("div",$,[x.value.length===0?(n(),a("div",I,[...s[2]||(s[2]=[e("p",{class:"text-gray-400 italic"},"Belum ada pesanan masuk untuk kategori ini.",-1)])])):M("",!0),(n(!0),a(c,null,b(x.value,o=>(n(),a("div",{key:o.id,class:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-all duration-300 group"},[e("div",G,[e("div",O,[s[3]||(s[3]=e("svg",{class:"w-12 h-12 text-gray-300 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1)),e("button",{onClick:D=>B(o.drive_link),class:"bg-white px-4 py-1.5 rounded-full border border-gray-200 text-[10px] font-bold text-gray-500 hover:bg-[#BB4D00] hover:text-white hover:border-[#BB4D00] transition-all uppercase tracking-widest shadow-sm"}," Buka Google Drive ",8,T)]),e("div",U,[e("div",null,[e("div",K,[s[4]||(s[4]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),e("span",Q,"Pengajuan REQ-"+r(o.id),1)]),e("h3",W,r(o.title),1),e("div",q,[e("p",J,[s[5]||(s[5]=e("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z","stroke-width":"2"})],-1)),w(" "+r(o.location),1)]),e("p",X,[s[6]||(s[6]=e("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z","stroke-width":"2"})],-1)),w(" "+r(o.date),1)])])]),e("div",Y,[e("div",Z,[s[7]||(s[7]=e("span",{class:"text-gray-400 font-medium"},"Progress Pekerjaan",-1)),e("span",ee,r(p(o))+"%",1)]),e("div",te,[e("div",{class:"bg-[#BB4D00] h-full transition-all duration-700",style:P({width:p(o)+"%"})},null,4)])])]),e("div",se,[e("div",oe,[e("span",{class:v([y(o.status),"px-4 py-1.5 rounded-lg text-white text-[10px] font-bold uppercase tracking-wider shadow-sm"])},r(h(o.status)),3)]),e("div",re,[e("span",ae,r(o.price_final?"Total Biaya Fix":"Estimasi Awal"),1),e("p",ne,r(_(o.price_final||o.price_estimasi)),1)]),i(d(f),{href:t.route("vendor.reports.show",o.id),class:"mt-4 p-3 rounded-full bg-gray-50 text-gray-400 hover:bg-[#BB4D00] hover:text-white transition-all duration-300 border border-gray-100 shadow-sm"},{default:g(()=>[...s[8]||(s[8]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M14 5l7 7m0 0l-7 7m7-7H3","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])]),_:1},8,["href"])])])]))),128))])])])],64))}},ue=V(le,[["__scopeId","data-v-5fb2ee54"]]);export{ue as default};
