import{f as y,g as v,i as k,c as l,a as p,u as a,h as w,w as g,b as t,t as u,o as n,F as b,r as _,d as f,j as S,k as j,v as D,e as h,l as V}from"./app-BEn3o_SZ.js";import{_ as L}from"./AuthenticatedLayout-DE0xAuZM.js";import{L as m}from"./leaflet-src-gLSDEZXR.js";import"./Navbar-D0OF_V_V.js";const P={class:"flex justify-between"},A={class:"py-12"},B={class:"max-w-5xl mx-auto sm:px-6 lg:px-8 grid grid-cols-1 md:grid-cols-3 gap-6"},C={class:"md:col-span-2 space-y-6"},M={class:"bg-white dark:bg-gray-800 p-6 shadow sm:rounded-lg"},N={class:"text-2xl font-bold text-gray-800 dark:text-gray-200"},T={class:"text-gray-500 mb-4"},U={class:"bg-gray-50 p-4 rounded-lg text-gray-700 border"},F={class:"mt-4 grid grid-cols-3 gap-2"},O=["src"],z={class:"md:col-span-1"},K={class:"bg-white dark:bg-gray-800 p-6 shadow sm:rounded-lg border-t-4 border-indigo-500"},$=["disabled"],E={key:0,class:"text-green-600 text-center text-sm font-bold mt-2"},J={__name:"Show",props:{report:Object},setup(s){const o=s,r=y({status:o.report.status}),x=()=>{r.patch(route("admin.reports.update",o.report.id))},c=v(null);return k(()=>{const i=m.map(c.value).setView([o.report.latitude,o.report.longitude],15);m.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(i),m.marker([o.report.latitude,o.report.longitude]).addTo(i)}),(i,e)=>(n(),l(b,null,[p(a(w),{title:"Detail Laporan Admin"}),p(L,null,{header:g(()=>[t("div",P,[e[2]||(e[2]=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Admin: Kelola Laporan",-1)),p(a(V),{href:i.route("admin.reports.index"),class:"text-indigo-600 font-bold"},{default:g(()=>[...e[1]||(e[1]=[h("Kembali",-1)])]),_:1},8,["href"])])]),default:g(()=>[t("div",A,[t("div",B,[t("div",C,[t("div",M,[t("div",{class:"h-64 w-full rounded-lg border mb-4 z-0",ref_key:"mapContainer",ref:c},null,512),t("h3",N,u(s.report.title),1),t("p",T,"Pelapor: "+u(s.report.user.name)+" ("+u(s.report.user.phone)+")",1),t("div",U,u(s.report.description),1),t("div",F,[(n(!0),l(b,null,_(s.report.attachments,d=>(n(),l("div",{key:d.id},[d.file_type==="image"?(n(),l("img",{key:0,src:`/storage/${d.file_path}`,class:"h-24 w-full object-cover rounded border"},null,8,O)):f("",!0)]))),128))])])]),t("div",z,[t("div",K,[e[5]||(e[5]=t("h4",{class:"font-bold text-lg mb-4 text-gray-800 dark:text-gray-200"},"Aksi Admin",-1)),t("form",{onSubmit:S(x,["prevent"]),class:"space-y-4"},[t("div",null,[e[4]||(e[4]=t("label",{class:"block text-gray-700 dark:text-gray-300 mb-2 font-bold"},"Update Status",-1)),j(t("select",{"onUpdate:modelValue":e[0]||(e[0]=d=>a(r).status=d),class:"w-full border-gray-300 rounded-md shadow-sm text-gray-700"},[...e[3]||(e[3]=[t("option",{value:"pending"},"‚è≥ Pending (Menunggu)",-1),t("option",{value:"process"},"üõ†Ô∏è On Process (Dikerjakan)",-1),t("option",{value:"done"},"‚úÖ Done (Selesai)",-1)])],512),[[D,a(r).status]])]),t("button",{type:"submit",disabled:a(r).processing,class:"w-full py-3 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 shadow-lg"}," Simpan Perubahan ",8,$),a(r).recentlySuccessful?(n(),l("div",E," Status Berhasil Diupdate! ")):f("",!0)],32),e[6]||(e[6]=t("div",{class:"mt-6 pt-6 border-t"},[t("p",{class:"text-sm text-gray-500"},[t("strong",null,"Tips:"),h(' Ubah status menjadi "On Process" jika teknisi sudah meluncur. Ubah "Done" jika perbaikan selesai. ')])],-1))])])])])]),_:1})],64))}};export{J as default};
