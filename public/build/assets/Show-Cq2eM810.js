import{a as n,b as d,d as t,u as l,h as B,f as x,l as b,t as o,k as c,H as F,g as u,F as f,j,e as p,o as i}from"./app-D2qwEyaT.js";import{_ as D}from"./Navbar-C0O0JlmN.js";const M={class:"min-h-screen bg-[#FFFDF4] font-['Montserrat'] pb-20"},P={class:"w-full bg-[linear-gradient(to_right,#BB4D00,#4B741F)] pt-32 pb-16 px-6 relative overflow-hidden"},C={class:"max-w-6xl mx-auto relative z-10"},L={class:"flex flex-col md:flex-row md:items-center gap-4 mb-3"},T={class:"text-[#FFFFFF] text-4xl md:text-5xl font-bold tracking-tight"},I={class:"text-xl md:text-2xl font-light text-white/90 max-w-3xl leading-relaxed"},N={class:"max-w-6xl mx-auto px-6 space-y-6"},V={class:"grid grid-cols-1 lg:grid-cols-3 gap-12 mt-10"},S={class:"lg:col-span-2 space-y-6"},A={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},z={class:"flex justify-between items-end mb-2"},E={class:"text-2xl font-bold text-[#F54900]"},K={class:"w-full bg-gray-100 rounded-full h-3 mb-3"},R={class:"flex justify-between text-xs text-gray-400"},$={class:"bg-white rounded-xl shadow-sm p-8 border border-gray-100"},H={class:"relative pl-4"},q={class:"absolute top-0 left-0 w-14 h-14 flex items-center justify-center bg-white"},G={key:0,class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},O={class:"flex justify-between items-start"},Q={class:"font-bold text-gray-800"},U={class:"text-sm text-gray-600 mt-1"},W={key:0,class:"mt-2"},J=["href"],X={class:"text-right shrink-0 ml-4 min-w-[90px]"},Y={class:"text-sm font-bold text-gray-700"},Z={class:"text-xs text-gray-500"},tt={class:"space-y-6"},et={key:0,class:"mb-4"},st={key:1,class:"bg-yellow-50 rounded-xl p-6 border border-yellow-200 text-center text-yellow-800 text-sm mb-4"},rt={key:2,class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},ot={class:"space-y-4"},at={class:"text-xl font-bold text-[#BB4D00]"},nt={key:0,class:"border-t pt-3"},it={key:1,class:"bg-[#ECFDF5] border border-[#A7F3D0] text-[#047857] px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-bold"},lt={key:2,class:"bg-[#FFFBEB] border border-[#FDE68A] text-[#B45309] px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-bold"},dt={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},ct={key:0,class:"text-center py-4 bg-gray-50 rounded-lg border border-dashed border-gray-300"},ut={key:1,class:"space-y-3"},pt={class:"font-bold text-gray-800"},mt={class:"flex items-center gap-2 text-sm text-gray-600"},gt={class:"flex items-center gap-2 text-sm text-gray-600"},xt={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},bt={class:"mb-4"},ft={class:"text-sm text-gray-700 leading-relaxed mt-1"},ht=["href"],_t={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},vt={class:"space-y-3"},yt={class:"flex justify-between items-center text-sm border-b border-gray-50 pb-2"},wt={class:"font-medium text-gray-800"},kt={class:"flex justify-between items-center text-sm border-b border-gray-50 pb-2"},Bt={class:"font-medium text-gray-800"},Ft={class:"flex justify-between items-center text-sm"},jt={class:"font-medium text-gray-800"},Ct={__name:"Show",props:{report:Object},setup(h){const s=h,g=(r=>{const e={verification:{label:"Menunggu Verifikasi Admin",class:"bg-gray-500"},pending:{label:"Menunggu Pembayaran",class:"bg-[#CA8E31]"},process:{label:"Dalam Pengerjaan",class:"bg-[#4688FB]"},completed:{label:"Selesai",class:"bg-[#09A600]"},cancelled:{label:"Dibatalkan",class:"bg-red-500"}};return e[r]||e.verification})(s.report?.status||"verification"),_=r=>{const e=parseInt(r);return isNaN(e)?"0":e.toLocaleString("id-ID")},v=r=>{if(!r||r==="-"||r==="Menunggu")return"-";const e=new Date(r);return isNaN(e.getTime())?r:e.toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})},y=r=>{if(!r||r==="-"||r==="Menunggu")return"";const e=new Date(r);return isNaN(e.getTime())?"":e.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})+" WIB"},w=[{title:"Pengajuan & Verifikasi",raw_date:s.report.created_at,desc:"Laporan sedang diperiksa admin.",status:s.report.status!=="verification"?"completed":"current",drive_link:null},{title:"Pembayaran & Kontrak",raw_date:s.report.status!=="verification"&&s.report.status!=="pending"?s.report.updated_at:"-",desc:"Persetujuan biaya dan kontrak kerja.",status:s.report.status==="process"||s.report.status==="completed"?"completed":s.report.status==="pending"?"current":"upcoming",drive_link:null},{title:"Pengerjaan & Survei",raw_date:"-",desc:"Tim vendor melakukan perbaikan.",status:s.report.status==="process"||s.report.status==="completed"?"current":"upcoming",drive_link:s.report.drive_link},{title:"Pekerjaan Selesai",raw_date:s.report.status==="completed"?s.report.updated_at:"-",desc:"Seluruh pekerjaan telah diselesaikan.",status:s.report.status==="completed"?"completed":"upcoming",drive_link:null}],m={name:"PT Green Restoration Indonesia",phone:"+62 812-3456-7890",email:"info@greenrestoration.co.id"};return(r,e)=>(i(),n(f,null,[d(l(B),{title:"Detail Laporan"}),d(D),t("div",M,[t("div",P,[t("div",C,[d(l(b),{href:r.route("reports.index"),class:"inline-flex items-center text-white/90 hover:text-white mb-6 transition gap-2 group"},{default:x(()=>[...e[0]||(e[0]=[t("svg",{class:"w-6 h-6 transform group-hover:-translate-x-1 transition",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),t("span",{class:"font-medium text-lg"},"Kembali ke Daftar Pengajuan",-1)])]),_:1},8,["href"]),t("div",L,[t("h1",T,"REQ-"+o(s.report.id),1),t("span",{class:c(`${l(g).class} px-4 py-1.5 rounded-lg font-bold text-sm shadow-md border border-white/20 text-white`)},o(l(g).label),3)]),t("h2",I,o(s.report.title),1)])]),t("div",N,[t("div",V,[t("div",S,[t("div",A,[t("div",z,[e[1]||(e[1]=t("span",{class:"text-gray-600 font-medium"},"Progress Keseluruhan",-1)),t("span",E,o(s.report.progress)+"%",1)]),t("div",K,[t("div",{class:"bg-[#F54900] h-3 rounded-full transition-all duration-1000",style:F({width:s.report.progress+"%"})},null,4)]),t("div",R,[t("span",null,"Mulai: "+o(s.report.created_at_formatted),1)])]),t("div",$,[e[5]||(e[5]=t("h3",{class:"text-lg font-bold text-gray-800 mb-8 flex items-center gap-2"},[t("svg",{class:"w-5 h-5 text-[#F54900]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),u(" Timeline Pekerjaan ")],-1)),t("div",H,[e[4]||(e[4]=t("div",{class:"absolute top-2 left-[27px] h-full w-[2px] bg-gray-200"},null,-1)),(i(),n(f,null,j(w,(a,k)=>t("div",{key:k,class:"relative pl-12 pb-10 last:pb-0"},[t("div",q,[t("div",{class:c(["w-8 h-8 rounded-full flex items-center justify-center z-10 border-2",a.status==="completed"?"bg-[#00C853] border-[#00C853]":a.status==="current"?"bg-white border-[#F54900] animate-pulse":"bg-gray-100 border-gray-300"])},[a.status==="completed"?(i(),n("svg",G,[...e[2]||(e[2]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"},null,-1)])])):(i(),n("div",{key:1,class:c(["w-2.5 h-2.5 rounded-full",a.status==="current"?"bg-[#F54900]":"bg-gray-300"])},null,2))],2)]),t("div",{class:c([a.status==="completed"?"bg-[#F8FDF9] border-green-50":"bg-white border-transparent","rounded-lg p-3 border"])},[t("div",O,[t("div",null,[t("h4",Q,o(a.title),1),t("p",U,o(a.desc),1),a.drive_link&&(a.status==="current"||a.status==="completed")?(i(),n("div",W,[t("a",{href:a.drive_link,target:"_blank",class:"inline-flex items-center gap-1 text-sm text-blue-600 hover:underline font-medium"},[...e[3]||(e[3]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1),u(" Lihat Dokumen ",-1)])],8,J)])):p("",!0)]),t("div",X,[t("p",Y,o(v(a.raw_date)),1),t("p",Z,o(y(a.raw_date)),1)])])],2)])),64))])])]),t("div",tt,[s.report.status==="pending"||s.report.status==="process"?(i(),n("div",et,[d(l(b),{href:r.route("reports.offer",s.report.id),class:"block w-full bg-[#BB4D00] hover:bg-[#973C00] text-white text-center font-bold py-4 rounded-xl shadow-lg transition transform hover:-translate-y-1 flex justify-center items-center gap-2"},{default:x(()=>[...e[6]||(e[6]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),u(" Lihat Penawaran & Kontrak ",-1)])]),_:1},8,["href"])])):s.report.status==="verification"?(i(),n("div",st," ‚è≥ Menunggu Admin membuat penawaran & estimasi. ")):p("",!0),s.report.status!=="verification"?(i(),n("div",rt,[e[9]||(e[9]=t("h3",{class:"font-bold text-[#BB4D00] mb-4 flex items-center gap-2"},[t("span",{class:"text-lg"},"$"),u(" Informasi Pembayaran")],-1)),t("div",ot,[t("div",null,[e[7]||(e[7]=t("p",{class:"text-xs text-gray-400"},"Total Biaya",-1)),t("p",at,"Rp "+o(_(s.report.price)),1)]),s.report.status==="process"||s.report.status==="completed"?(i(),n("div",nt,[...e[8]||(e[8]=[t("p",{class:"text-xs text-gray-400 mb-1"},"Metode Pembayaran",-1),t("p",{class:"text-gray-800 font-medium"},"Transfer Bank BCA",-1)])])):p("",!0),s.report.status==="process"||s.report.status==="completed"?(i(),n("div",it,"Lunas")):(i(),n("div",lt,"Menunggu Pembayaran"))])])):p("",!0),t("div",dt,[e[12]||(e[12]=t("h3",{class:"font-bold text-[#4B741F] mb-4 flex items-center gap-2"},"Informasi Vendor",-1)),s.report.status==="verification"||s.report.status==="pending"?(i(),n("div",ct,[...e[10]||(e[10]=[t("p",{class:"text-sm text-gray-400 italic"},"Menunggu penunjukan vendor",-1)])])):(i(),n("div",ut,[t("div",null,[e[11]||(e[11]=t("p",{class:"text-xs text-gray-400"},"Nama Vendor",-1)),t("p",pt,o(m.name),1)]),t("div",mt,o(m.phone),1),t("div",gt,o(m.email),1)]))]),t("div",xt,[e[14]||(e[14]=t("h3",{class:"font-bold text-[#BB4D00] mb-4 flex items-center gap-2"},"Lokasi Perbaikan",-1)),t("div",bt,[e[13]||(e[13]=t("p",{class:"text-xs text-gray-400"},"Alamat Lengkap",-1)),t("p",ft,o(s.report.location),1)]),t("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(s.report.location)}`,target:"_blank",class:"block w-full text-center border border-[#BB4D00] text-[#BB4D00] hover:bg-orange-50 font-bold py-2 rounded-lg transition text-sm"},"Lihat di Maps",8,ht)]),t("div",_t,[e[18]||(e[18]=t("h3",{class:"font-bold text-gray-800 mb-4 flex items-center gap-2"},"Info Pengajuan",-1)),t("div",vt,[t("div",yt,[e[15]||(e[15]=t("span",{class:"text-gray-500"},"Tanggal Pengajuan",-1)),t("span",wt,o(s.report.created_at_formatted),1)]),t("div",kt,[e[16]||(e[16]=t("span",{class:"text-gray-500"},"Tanggal Mulai",-1)),t("span",Bt,o(s.report.status==="verification"||s.report.status==="pending"?"-":"Sesuai Kontrak"),1)]),t("div",Ft,[e[17]||(e[17]=t("span",{class:"text-gray-500"},"Tanggal Selesai",-1)),t("span",jt,o(s.report.status==="completed"?"Selesai":"-"),1)])])])])])])])],64))}};export{Ct as default};
